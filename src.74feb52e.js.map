{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","refs","galleryEl","document","querySelector","lightboxEl","btnCloseEl","lightboxImageEl","lightboxOverlayEl","listItemsGallery","createGallery","imgs","map","img","index","join","innerHTML","galleryImages","querySelectorAll","onGalleryItemOpen","e","currentTargetIndex","target","dataset","classList","add","setAttribute","lightboxImageContent","window","addEventListener","onKeyEscPress","onArrowLeftPress","onArrowRightPress","currentIndex","getAttribute","src","alt","onGalleryItemClose","remove","removeEventListener","onOverlayClick","currentTarget","code","onArrowLeft","onArrowRight","length","console","log"],"mappings":";;;AAkLG,aAlLH,QAAA,oBAEA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAITC,EAAO,CACXC,UAAWC,SAASC,cAAc,YAClCC,WAAYF,SAASC,cAAc,aACnCE,WAAYH,SAASC,cAAc,qBACnCG,gBAAiBJ,SAASC,cAAc,oBACxCI,kBAAkBL,SAASC,cAAc,uBAGrCK,EAAmBC,EAAcb,GAIvC,SAASa,EAAcC,GACdA,OAAAA,EAAKC,IAAI,CAACC,EAAMC,2GAIHA,oBACTD,EAAIf,kCACIe,EAAId,2BACZc,EAAIb,0CAGZe,KAAK,IAbVd,EAAKC,UAAUc,UAAYP,EAe3B,MAAMQ,EAAgBd,SAASe,iBAAiB,mBAQhD,SAASC,EAAkBC,GACnBC,MAAAA,EAAqBD,EAAEE,OAAOC,QAAQT,MAC5Cb,EAAKI,WAAWmB,UAAUC,IAAI,WAC9BxB,EAAKM,gBAAgBmB,aAAa,QAAUL,GAG7CM,IAECC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAYE,GACpCH,OAAOC,iBAAiB,UAAYG,GAEtC,SAASL,IACHM,IAAAA,EAAehC,EAAKM,gBAAgB2B,aAAa,SAErDjC,EAAKM,gBAAgB4B,IAAMtC,EAAaoC,GAAclC,SACtDE,EAAKM,gBAAgB6B,IAAMvC,EAAaoC,GAAcjC,YAIxD,SAASqC,EAAmBjB,GAC1BnB,EAAKI,WAAWmB,UAAUc,OAAO,WACjCrC,EAAKM,gBAAgB4B,IAAM,GAC3BP,OAAOW,oBAAoB,UAAWT,GAGxC,SAASU,EAAgBpB,GACpBA,EAAEE,SAAWF,EAAEqB,eAChBJ,IAIJ,SAASP,EAAcV,GACA,WAClBA,EAAEsB,MACHL,IAIJ,SAASN,EAAiBX,GACV,cAAXA,EAAEsB,MACHC,IAGJ,SAASX,EAAkBZ,GACX,eAAXA,EAAEsB,MACHE,IAKJ,SAASA,IACHX,IAAAA,EAAehC,EAAKM,gBAAgB2B,aAAa,SAEnDD,EADCA,EAAepC,EAAagD,OAAS,GACtBZ,EAAe,EAGhB,EAEjBa,QAAQC,IAAId,GACZhC,EAAKM,gBAAgB4B,IAAMtC,EAAaoC,GAAclC,SACtDE,EAAKM,gBAAgB6B,IAAMvC,EAAaoC,GAAcjC,YACtDC,EAAKM,gBAAgBmB,aAAa,QAAUO,GAG9C,SAASU,IACHV,IAAAA,EAAehC,EAAKM,gBAAgB2B,aAAa,SAClDD,EAAe,EAAI,EACpBA,EAAepC,EAAagD,OAAS,EAErCZ,GAAgB,EAGlBa,QAAQC,IAAId,GACZhC,EAAKM,gBAAgB4B,IAAMtC,EAAaoC,GAAclC,SACtDE,EAAKM,gBAAgB6B,IAAMvC,EAAaoC,GAAcjC,YACtDC,EAAKM,gBAAgBmB,aAAa,QAAUO,GAjF9ChC,EAAKC,UAAU2B,iBAAiB,QAASV,GACzClB,EAAKK,WAAWuB,iBAAiB,QAASQ,GAC1CpC,EAAKO,kBAAkBqB,iBAAiB,QAAUW","file":"src.74feb52e.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n  const refs = {\n    galleryEl: document.querySelector('.gallery'),\n    lightboxEl: document.querySelector('.lightbox'),\n    btnCloseEl: document.querySelector('.lightbox__button'),\n    lightboxImageEl: document.querySelector('.lightbox__image'),\n    lightboxOverlayEl:document.querySelector('.lightbox__overlay'),\n    \n  };\n  const listItemsGallery = createGallery(galleryItems);\n  \n  refs.galleryEl.innerHTML = listItemsGallery;\n  \n  function createGallery(imgs){\n    return imgs.map((img , index)  => `\n    <li class=\"gallery__item\">\n      <img\n        class=\"gallery__image\"\n        data-index = \"${index}\"\n        src=\"${img.preview}\"\n        data-source=\"${img.original}\"\n        alt=\"${img.description}\"\n      /> \n  </li>\n    `).join('');\n  }\n  const galleryImages = document.querySelectorAll('.gallery__image');\n  \n  \n  refs.galleryEl.addEventListener('click', onGalleryItemOpen);\n  refs.btnCloseEl.addEventListener('click', onGalleryItemClose);\n  refs.lightboxOverlayEl.addEventListener('click' , onOverlayClick);\n  \n  \n  function onGalleryItemOpen(e){\n    const currentTargetIndex = e.target.dataset.index;\n    refs.lightboxEl.classList.add('is-open');\n    refs.lightboxImageEl.setAttribute('index' , currentTargetIndex);  \n    \n  \n   lightboxImageContent();\n   \n    window.addEventListener('keydown', onKeyEscPress);\n    window.addEventListener('keydown' , onArrowLeftPress);\n    window.addEventListener('keydown' , onArrowRightPress);\n  }\n  function lightboxImageContent(){\n    let currentIndex = refs.lightboxImageEl.getAttribute('index');\n  \n    refs.lightboxImageEl.src = galleryItems[currentIndex].original;\n    refs.lightboxImageEl.alt = galleryItems[currentIndex].description;\n    \n  }\n  \n  function onGalleryItemClose(e){\n    refs.lightboxEl.classList.remove('is-open');\n    refs.lightboxImageEl.src = '';\n    window.removeEventListener('keydown', onKeyEscPress);\n  }\n  \n  function onOverlayClick (e){\n    if(e.target === e.currentTarget){\n      onGalleryItemClose();\n    }\n  }\n  \n  function onKeyEscPress(e){\n    const ESC_KEY_CODE = 'Escape';\n    if(e.code === ESC_KEY_CODE){\n      onGalleryItemClose();\n    }\n  }\n  \n  function onArrowLeftPress(e){\n    if(e.code === 'ArrowLeft'){\n      onArrowLeft();\n    }\n  }\n  function onArrowRightPress(e){\n    if(e.code === 'ArrowRight'){\n      onArrowRight();\n    }\n  }\n  \n  \n  function onArrowRight(){\n    let currentIndex = refs.lightboxImageEl.getAttribute('index');\n    if(currentIndex < galleryItems.length - 1){ \n      currentIndex = +currentIndex + 1;\n    } \n    else{\n      currentIndex = 0; \n    }\n    console.log(currentIndex)\n    refs.lightboxImageEl.src = galleryItems[currentIndex].original;\n    refs.lightboxImageEl.alt = galleryItems[currentIndex].description;\n    refs.lightboxImageEl.setAttribute('index' , currentIndex);\n  }\n  \n  function onArrowLeft(){\n    let currentIndex = refs.lightboxImageEl.getAttribute('index');\n    if(currentIndex - 1 < 0){\n      currentIndex = galleryItems.length - 1;\n    } else {\n      currentIndex -= 1;\n     \n    }\n    console.log(currentIndex)\n    refs.lightboxImageEl.src = galleryItems[currentIndex].original;\n    refs.lightboxImageEl.alt = galleryItems[currentIndex].description;\n    refs.lightboxImageEl.setAttribute('index' , currentIndex);\n  }\n  "]}